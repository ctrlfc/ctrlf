<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>闭包</title>
</head>

<body>
    <script>
    /**
     * 总是搞不清匿名函数和闭包??
     *
     * 闭包:是指有权访问另一个函数作用域中的变量的函数
     * 创建闭包的的常见方式:就是在一个函数内部创建另一个函数
     */

    //属性名
    function ccf(propertyName) {

        return function(obj1, obj2) {


            var val1 = obj1[propertyName];
            var val2 = obj2[propertyName];


            if (val1 < val2) {
                return -1;
            } else if (val1 > val2) {
                return 1;
            } else {
                return 0;
            }
        };
    }
    //即使这个内部函数被返回了，而且是在其他地方被调用了，但它仍然以访问变量 propertyName 。
    //之所以还能够访问这个变量， 是因为内部函数的作用域链中包含 createComparisonFunction()的作用域。

    //----------------------------------------------------------------------------------
    /**
     * 1.当某个函数被调用时，会创建一个执行环境（execution context）及相应的作用域链
     * 2.使用 arguments 和其他命名参数的值来初始化函数的活动对象（activation object）
     * 3.但在作用域链中，外部函数的活动对象始终处于第二位，外部函数的外部函数的活动对象处于第三位，……直至作为作用域链终点的全局执行环境。
     */
    //----------------------------------------------------------------------------------

    function cp(val1, val2) {
        if (val1 < val2) {
            return -1;
        } else if (value1 > value2) {
            return 1;
        } else {
            return 0;
        }
    }
    var result = cp(5, 10);
    </script>
</body>

</html>
